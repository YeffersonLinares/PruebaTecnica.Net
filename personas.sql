/*
PostgreSQL Backup
Database: Personas/public
Backup Time: 2025-02-27 14:12:05
*/

DROP SEQUENCE IF EXISTS "public"."CorreosElectronicos_Id_seq";
DROP SEQUENCE IF EXISTS "public"."DireccionesFisicas_Id_seq";
DROP SEQUENCE IF EXISTS "public"."NumerosTelefonicos_Id_seq";
DROP TABLE IF EXISTS "public"."CorreosElectronicos";
DROP TABLE IF EXISTS "public"."DireccionesFisicas";
DROP TABLE IF EXISTS "public"."NumerosTelefonicos";
DROP TABLE IF EXISTS "public"."Personas";
DROP TABLE IF EXISTS "public"."__EFMigrationsHistory";
CREATE SEQUENCE "CorreosElectronicos_Id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;
CREATE SEQUENCE "DireccionesFisicas_Id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;
CREATE SEQUENCE "NumerosTelefonicos_Id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;
CREATE TABLE "CorreosElectronicos" (
  "Id" int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1
),
  "Correo" text COLLATE "pg_catalog"."default" NOT NULL,
  "PersonaDocumentoIdentidad" text COLLATE "pg_catalog"."default" NOT NULL
)
;
ALTER TABLE "CorreosElectronicos" OWNER TO "ylinares";
CREATE TABLE "DireccionesFisicas" (
  "Id" int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1
),
  "Direccion" varchar(200) COLLATE "pg_catalog"."default" NOT NULL,
  "PersonaDocumentoIdentidad" text COLLATE "pg_catalog"."default" NOT NULL
)
;
ALTER TABLE "DireccionesFisicas" OWNER TO "ylinares";
CREATE TABLE "NumerosTelefonicos" (
  "Id" int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1
),
  "Numero" varchar(15) COLLATE "pg_catalog"."default" NOT NULL,
  "PersonaDocumentoIdentidad" text COLLATE "pg_catalog"."default" NOT NULL
)
;
ALTER TABLE "NumerosTelefonicos" OWNER TO "ylinares";
CREATE TABLE "Personas" (
  "DocumentoIdentidad" text COLLATE "pg_catalog"."default" NOT NULL,
  "Nombres" varchar(100) COLLATE "pg_catalog"."default" NOT NULL,
  "Apellidos" varchar(100) COLLATE "pg_catalog"."default" NOT NULL,
  "FechaNacimiento" date NOT NULL
)
;
ALTER TABLE "Personas" OWNER TO "ylinares";
CREATE TABLE "__EFMigrationsHistory" (
  "MigrationId" varchar(150) COLLATE "pg_catalog"."default" NOT NULL,
  "ProductVersion" varchar(32) COLLATE "pg_catalog"."default" NOT NULL
)
;
ALTER TABLE "__EFMigrationsHistory" OWNER TO "ylinares";
BEGIN;
LOCK TABLE "public"."CorreosElectronicos" IN SHARE MODE;
DELETE FROM "public"."CorreosElectronicos";
INSERT INTO "public"."CorreosElectronicos" ("Id","Correo","PersonaDocumentoIdentidad") VALUES (1, 'juan.perez@example.com', '123456789'),(2, 'jperez@example.com', '123456789'),(3, 'juan.perez@example.com', '123456781'),(4, 'jperez@example.com', '123456781')
;
COMMIT;
BEGIN;
LOCK TABLE "public"."DireccionesFisicas" IN SHARE MODE;
DELETE FROM "public"."DireccionesFisicas";
INSERT INTO "public"."DireccionesFisicas" ("Id","Direccion","PersonaDocumentoIdentidad") VALUES (1, '123 Main St', '123456789'),(2, '456 Elm St', '123456789'),(3, '123 Main St', '123456781'),(4, '456 Elm St', '123456781')
;
COMMIT;
BEGIN;
LOCK TABLE "public"."NumerosTelefonicos" IN SHARE MODE;
DELETE FROM "public"."NumerosTelefonicos";
INSERT INTO "public"."NumerosTelefonicos" ("Id","Numero","PersonaDocumentoIdentidad") VALUES (1, '+1234567890', '123456789'),(2, '+0987654321', '123456789'),(3, '+1234567890', '123456781'),(4, '+0987654321', '123456781')
;
COMMIT;
BEGIN;
LOCK TABLE "public"."Personas" IN SHARE MODE;
DELETE FROM "public"."Personas";
INSERT INTO "public"."Personas" ("DocumentoIdentidad","Nombres","Apellidos","FechaNacimiento") VALUES ('123456789', 'Juan', 'Perez', '1990-01-01'),('123456781', 'Yefferson', 'Linares', '1990-01-01')
;
COMMIT;
BEGIN;
LOCK TABLE "public"."__EFMigrationsHistory" IN SHARE MODE;
DELETE FROM "public"."__EFMigrationsHistory";
INSERT INTO "public"."__EFMigrationsHistory" ("MigrationId","ProductVersion") VALUES ('20250227120712_InitialCreate', '9.0.2'),('20250227121907_UpdateModels', '9.0.2'),('20250227124403_UpdateModelsV2', '9.0.2'),('20250227173641_UpdatePersonv2', '9.0.2')
;
COMMIT;
ALTER TABLE "CorreosElectronicos" ADD CONSTRAINT "PK_CorreosElectronicos" PRIMARY KEY ("Id");
CREATE INDEX "IX_CorreosElectronicos_PersonaDocumentoIdentidad" ON "CorreosElectronicos" USING btree (
  "PersonaDocumentoIdentidad" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
ALTER TABLE "DireccionesFisicas" ADD CONSTRAINT "PK_DireccionesFisicas" PRIMARY KEY ("Id");
CREATE INDEX "IX_DireccionesFisicas_PersonaDocumentoIdentidad" ON "DireccionesFisicas" USING btree (
  "PersonaDocumentoIdentidad" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
ALTER TABLE "NumerosTelefonicos" ADD CONSTRAINT "PK_NumerosTelefonicos" PRIMARY KEY ("Id");
CREATE INDEX "IX_NumerosTelefonicos_PersonaDocumentoIdentidad" ON "NumerosTelefonicos" USING btree (
  "PersonaDocumentoIdentidad" COLLATE "pg_catalog"."default" "pg_catalog"."text_ops" ASC NULLS LAST
);
ALTER TABLE "Personas" ADD CONSTRAINT "PK_Personas" PRIMARY KEY ("DocumentoIdentidad");
ALTER TABLE "__EFMigrationsHistory" ADD CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId");
ALTER TABLE "CorreosElectronicos" ADD CONSTRAINT "FK_CorreosElectronicos_Personas_PersonaDocumentoIdentidad" FOREIGN KEY ("PersonaDocumentoIdentidad") REFERENCES "public"."Personas" ("DocumentoIdentidad") ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE "DireccionesFisicas" ADD CONSTRAINT "FK_DireccionesFisicas_Personas_PersonaDocumentoIdentidad" FOREIGN KEY ("PersonaDocumentoIdentidad") REFERENCES "public"."Personas" ("DocumentoIdentidad") ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER TABLE "NumerosTelefonicos" ADD CONSTRAINT "FK_NumerosTelefonicos_Personas_PersonaDocumentoIdentidad" FOREIGN KEY ("PersonaDocumentoIdentidad") REFERENCES "public"."Personas" ("DocumentoIdentidad") ON DELETE CASCADE ON UPDATE NO ACTION;
ALTER SEQUENCE "CorreosElectronicos_Id_seq"
OWNED BY "CorreosElectronicos"."Id";
SELECT setval('"CorreosElectronicos_Id_seq"', 4, true);
ALTER SEQUENCE "CorreosElectronicos_Id_seq" OWNER TO "ylinares";
ALTER SEQUENCE "DireccionesFisicas_Id_seq"
OWNED BY "DireccionesFisicas"."Id";
SELECT setval('"DireccionesFisicas_Id_seq"', 4, true);
ALTER SEQUENCE "DireccionesFisicas_Id_seq" OWNER TO "ylinares";
ALTER SEQUENCE "NumerosTelefonicos_Id_seq"
OWNED BY "NumerosTelefonicos"."Id";
SELECT setval('"NumerosTelefonicos_Id_seq"', 4, true);
ALTER SEQUENCE "NumerosTelefonicos_Id_seq" OWNER TO "ylinares";
